apiVersion: policy.karmada.io/v1alpha1
kind: ClusterPropagationPolicy
metadata:
  name: storage-juicefs-policy
spec:
  resourceSelectors:
    - apiVersion: apiextensions.k8s.io/v1
      kind: CustomResourceDefinition
      name: juicefs.storage.karmada.io
  placement:
    clusterAffinity:
      clusterNames:
        - kubernetes
        - gmi-tot
        - storage-test1
  conflictResolution: Overwrite

---
apiVersion: storage.karmada.io/v1alpha1
kind: Juicefs
metadata:
  name: jfs-asia-test
spec:
  description: "gmi cloud storage pool in Asia-Pacific Taiwan"
  location: # storage location
    region: 
    az:
  provider: # storage provider
    id: "u-00000000" # storage provider id
    name: gmi-cloud # storage provider name
  public: "true" # whether the storage is public
  settings:
    key: value
  labor:
    image: us-west1-docker.pkg.dev/devv-404803/public/storage:v0.0.1 
    run-script: |
      HlZO9LEf_QCcd8gMTKTjNndMz9Cw7d51lDke14sbrWZvNM-LfpRjZpakfv53xLve9Z0nFaz12V1GDSsNqnO11LaVBZP4gMyvfyCJLFWNBIf7ODFM2MN9jziUmUS78F7UMq2YmaXbRPAgLMZibJdjapNzh6oneJOD8Vy8NvXqD9PgT1hNNJZsvcl66e2kRwy_G1d5JyiXoSazgzyViYsm9wqXIth1_WNilaRxLlHCmzXkMZ8mmSJzoKivoCOMeq1kTMuQebZjTYk0W7LGG8lB4uDcuMxveNUjo3Q5xlOdjdMouiQ8jz5tUn9OwP8RbEI4AzTHMiCYocK19xHIYU4AXBpoMH6J4HO1WJdF9mrH0imrpdBxsRmvBe1c0JbSmq2G42eltjES9KbemJJS0umC3M1b_271_xwPPWKRhTc0Mwa8c4eYsttFTz8XKTZVr3MxhAN1A-88QJgHLDUECdUe3-kLoz23oXAZqZWRpKpUFfwMPOPvcsnJ15ZXOMnYsQpW42tCD1B3PW4NkfclDu984U-wy6p6LA5r6Ae-eBKaNMtsqI6hl9nWlAGaL41U6L7VNjuDpAm3j1tsIsgl192S210cxMe-EEXOb7m76UTN4Ck4dOJkQu0lALYQVs60j8j_iCd2_R418vuIrRNhX4iBeuTTUEZp9CDwCKtijrjXn0F87lE1rmU3pdBNODxgtwxO1uU3Yj5A1gu0d-dz60zimIwdnr-f3mBOF3E-IFm1yiDeQiFG1Vg-sDzWB319bUm6izEwXTmx3A_ZvL7O1Mh8EO08HLlWf_81IoMulY5vUygk0dXqAcDXAnn1ElhW-kLE8xP5sDm39ZtSn8Lv9yEZotXCXVfgwrSPs-JTqL3hTsse3Q6jbKipEobGumojnpSejp2RMfr2ZgMugpuesuUuVdhhb61Dm8AAob2z-jsWAXy3PPbf97PmWVoBCW4MgAsNWKX93O4RhPJObJtylkfLnDnkANbH6gRZm2UgxTHpdNd29NaEkW693Bn28ifAm58O-04Em2134wixUDNPcEzjCHbVm7N7yG-MAlNn3zhiSrrqHB738gXfHCYGdWSg0yYUoXSEYQHsvzlRf_MXbvviXmHME8nV5N_xAkuxwPojxliIdi4gRPVR9bZoqK1_IP-OYe716EO3kSBuJRjkStFDAR-JhW2vxAytvh4Ov-iQQjrGefrk1NAybJLGvEH_FAF4BLTtZX24Eg1NVgtNWYPmEna42JBeoxKR-ZGaMZA3Pm3DmSMpbQpBXydLzbFnqNpLJewamUeKyBCr0WCb9GnyHybbzS2tLLH0e8hVjpyPaeumtmTi_c3_BrAgA6y4gjezU3FSrtljG5ZZWaX0pViiNLyMNdTqI27SXip2FuF2WhMsURju2RLNx6tpxKPy6CI8SNGzdAHwZ0Y8YTIIxCRjMWAQDuerhe-1f_6vgEGoZRNxmTlpMZAHi9oDgMQdddc3CPsitBksQywqSX2wadN7RONIaeldTLR8yX72tEpGhSqOHMVjnF1IfbtRKJBAuWGmylIyc06SNAojm-0jILM1eiC_kvCnfznbihOaLceQNnCp9Qq93vOAfG3GL1YDkK-ZI9DmOl-ODTLtKnniU-VgpfLLRUf4yWUoSQ7JsALd5padQRAapZZvMFigvnobOATYf90cE54DV2N2cSh-EB1jUs5pWc5taIG3oAS0GkgVNDAFRkEWbR5GZDyaxaISbHjvLPQrxwgvKRUH1hRepbYaiLbE4PO2cJ2coskPQl3-KuPHBRK0GNHAxVPhMdX2es-A2Bk0zbo4EYjFIR31Ndu9mztIgXadXS2pyEpAsTiwAw5RRMBCnZyIR29rcxLchf-R1bYQlW-qUeA1P1DMaHYenD8cMrMRoho4gv0tBgveHj8K5kFj7saRny2mr9aAWmuKQRQSpnhqwC3glnQK8YylUxAswKpk8S9wU29gf0SPSMabgRnYCM36fpUTHqgu0n_QHBD874hTkIpv3yB9WIfq7FT-9wLxos9ANMNt6CZ_1qOAGOmI_P58LCAwFem0Vj2HzaTfxsdDFq1Sz3OhGuQKctCD6cSkDV2ped7EDH_merxgjH0gWd_Zi9vdCkw1Be752tlFt5DKFrn6Y_voMnWrOh_mqBSgCxVSMagw8Kc-YJ0UgSWTk3h7uW4rch1K6Sg7Y7mPiWJA1CxaHd_MwapaWLdm0d0Pm0zsMzaZLUdEf_iH0Md5SxpImWOUaPWp_r4kW3s3yOwvUey0uu_4Q7LvZdElgKpBl-a7TUwkowZfO1YlO97wrYnP0nhMGky6_4GPTMhkICuDVrNwZE-Ysxvfjj60v6AcQdaLZwbqNiCT_ri_P7JfXzxGqGvhC64Wl-3Uf6iWZPOnEI5BBF2RUwE6S30p5-9Itz0fF2MGW_9OCdaAcS8QEio25zwiffhq8_s_IODjGZY9ltrAVBuBR2RXKB1ZdBm9egmVnOztWAIoOPvpnUsKeR2u_lZ95rQsap9LBd3aS7kX54bhY86117EHUEP4XbF_h6MPFq36xhIrXnNh0H2UJNCVCJDABZrZtbn-pjEvbpPuZ456SZ8pTmqlwN-whGxwYuPAVvSYgbwPnRx05V9v0tusohCerN03aZ0LiewhT1MfgRllXVDejB9VFICNh0xNxx_CmQofyTYBTRF9ukOibxXwBsWdc-2Ghn2f5M0OcM3QAn5QRMVLNxFa1Zg-pqSd-LOBWd5b5hY6GWyZZgWyM-avS11pTYc8ogldHFE2AwqseMZEnGAgZY1OA_2xBBQ0TkADveNdREiNhCV8vFlk176tR49It3RmoGGZNkNQSEAboJtKEiYwUA7gFdXnPXeTxcexeLmox5xlam7Iwd1aObUErAsz3jV_Lfqm-TSdeCg6Sy0Sb6YozqMp-JQs8_bj7x6odDq-CFJsNV7W2Tc2UC0SOM1HJlpsRGlZsgk3PuwlYk-OL43tyMhEp0zOuuljDqyndQOWM503kwrKgtect_29Z-Kyh1IoiPxNf9jxvFYy7QoPdrgCgwzd0msugGQpvMZbuJ8jn1_6ounPWSwahv86b0ee97r2oNCJnPXJozd1Yj6j_bXtAS-93rCLHeY4-tWPLkarko6MuisnhnDukwJ5eE8icE6LHP_0SL_LALSo-YCZA4_WCOMDe4VYWtwTVEdHoU5y_BHybjhTSgAMPCuM0EBb01l7QPOyrMkcXaU2LhG0m-WLueyTU2Lq5YOAIYa-bFsAnE4Pc5H7JjRX77aZIg6FtZCSZHXPd0oZVqUO26u-XuybVJJui3hec-lSFXAjSnl5eTvGomNn0ByOjUVwlVbsLUJ5xXL7EpCbif10ec4PvnCOCuZELBtxH6NLsjbcjoUNuVnXTcaFnoc56TvwPT6lJiVsrYYkRe8EBx5JffMTYWR13offuvHsduhgJd1uZg0XhB4FaUZ71I8kYIc8OuivFzsuWQhpW67CyLYZrHnVbbz0RZxUlmI13qA4DbSc5CafFvm26EVSjFeyTvl-fkSBMnRPh3Tcw6uNhR_TPrbT6U5iNay39BI2Ua9D8eJXSfD-w4YpJfIDMu43kg0QWVpEv9DTdB_t2Jzx45VFCEI1L6AOgtQ2GUxi-prbYz2dbePRL-AaJ0BCzMCGzbLpyXJ_yGFXt_xK5Rm7XBCREkIHpo0Cu-Q3t7t7qGn90fkEiMpNZG5OEqsntc6_1E_CBuTJR8aNxIdEqjBoMIS_HzLAC6Dn0BQbFsfS2RVjlW5BWiJEquyMe-Rq7OiUqNOc5y21kwDQeuVKVGmOl2DZrUCaGKA4GwqT3tTNGVfnVQFUpMWq_c05wDQirFsK2rXhoAT1sfNhHc2OsgLuSIxr7i24N20gxjheFIx5-Nro6SgmO0R32vyEvPQ0PpuMrjtfoeFABYe71RN4M-uuS7EzUc5ueQXY1ayIYA
    repo: gcp
  auth:
    gcp:
      application-default-credentials: |
        KAl-BcH6vzo1WQ4WogEQPcKvEnRgolYNJRNwuudvModdTpaSj338T4QtdElnHUPiY9X8tT5VG__7EJv9x9VO8D75SjrEAecFaWtWEdAEwW0297Cl6quYS47dUVfCcDO0Xsmt8j6im5Ac8u4rfYIo-22hRmc0TEOcwemsQh26PMUxsHoiDkedAETUwzNLVWzMDPE8vJX0WRycyM-vAm3euKo9Zq2Ijk73mLSrFvWrSpsUYyxKadsOPQM7XlM491qLO95xGwupiaIdje2th7MhrasoxO9jE31QV4o0gzfKCyWRDlny4CSyKVaQStLK9YrML7BXNcadlUuAM97eaGxx6m7IWAxvCGXltmoTWPTIpYFNwxgEyZqtYyUWzB4KShNX3TKL7mu2VPUw9giyVO2Ys9xPj5KfCOlYtP4DdkH1FnVOY-Mb94X3khlqF2fVOl-S7cQwgsRsa_QsMz1gd4iu1EQ-4CIqslEaU_AmiZi1IPWjJQRg3rL_OXcMZ5RGLry3
      service-account-credentials: |
        Zc-xGMM4P1rpgjWD6JuAkgDm5loE42KtDoowatm-KgLAmb7uGEDdwdUTDpOAiPCTJ3j4nJ_NJYWAuVLGkJ18V8SBBip7jk9mW_3C4pwIugk2oGQ2DEtYZzf7I144Goj4o9FNLjQGG76mqwYpSFmt_J4cBdYxCpay9gFZ59aBjitDAYlMmaUaCCm0aRUHWaWXYyQM7um-GM72NF_9T_f9Avn1fWhqBmASQ2wZy2uO0m5w7GI4roA9qvP6YPRtWa4SXVGw-gMk3JpqecCKqTcjYyzdgEWV9dybtNK_FwRB_hwyBVfJOzVIf29YoKIvlZtv-p7XszAcftJZsb5nmhsh56S1aDWBpm02f50WAQ61avJpHZpcB7cr73jDFM5UEaQtvtx1rLnpVD_FhlFFSC5MS2AHEpRlQaQZaS6p3v_c2tYtz6LsNaolBP_sF1202KdxN9EvHylyjhMlcmmfvusszTbszh7AaAfcRcHPDeltAlDjCDudWCm-sLMcUNIPZZ86u0FnqqX1m8HGsoRaKP63EwJPZSotA1SEYfdqip19B8Y7_2oUJ_zY9OJ4CLlYfu66a29wQ0A9PGVuGsjvAWJ6h0UYvSwZmMXI8QqjHMdB4IoP5dH0dAtmm8rhdoRg4esfWRgRPrBxTt5oX7PQ1iVDG6dBZMm8at4W2n4M0AjnRJeHHYDKs8OdWaJEKubiRLgCXUZbbUBj7SLzm74wQiY5fOPjMTnn_LS2YprMFZKOwG8t4fvnw0gCvRYaQPpVRDqfD6fTBsxvWCIrwZ2MGSAg67Phbvwc2NKrNAp1dKiESa-lV8yOHzicyTxh_xH5OsmDFcAx1UsSmTE69agkERbN0BCvVQ24V2ooCn03mzGUxjyfCkBWPqb1Oedf1CocVBr5JnYr4ZulANVWIQvyyGrMUTf3t8gD11r8SCJ6SdLUlFx9apnGCkfj2WAtVsUI4MqLnQCyqnBZnyYuZDZ9x6pb-1GRC02GjRRNRM14uKHJNIgEJmOXI3VaVweqT7bdoEFJyqqn0TR-VFyftnCZqo4wCd7JyzmSj-PDRJCRmN4xRm9ohqKr2MawgRESqmGoWDfT5iDSVnrlM-LbvUeOnh3tU_UUYdsGFnbO5UEVPgx3gbbM6HD7d1RuhqIUGZROFnF9qj6zg69xTB0HCLF0JwtCGRh7dYHc4SltMYM_Z_qdK6YAFXXdbJ4i_G12v0-i2r835LY7WwJwaJkRySorA_otCgOszKw7YmK0pypW8X8xuXWyVIwgfSAiDdUl8zhlEiMpIaijPy4sc85WryuBPaqMPXKka4vcmsG1VuWbWvnJZK8WjGwXM9Fd4lqEZCxsabdJzDUakCTqtZ7gEQtQQ1yzboWRKtAFgJ5mMUG89uHHm9M-R4Gn_s1_OoN6hVWNrm66mWrnsk8-Uxd8_BE-zFMxeAw1YqLPAnhoG6mvQ6vbHzUMlwq49Dv0wtBs_MUqfmx_Twmjpu5PO0LBMsX_T94mmEANV-IznNJNnc-UyL4T3hsEiOKRs5PSGa1kWZBapbBt4LnfNkWyc4T7nn_2LSVM4iv7Jb24feyOHQ4E3-A2y9JHJhzNzLvH_aDrHM-NuwYeZxFA7M0SQoMYk-Gh1piXHSXcZKlin2_nMnV1sxb7hxKui-GIAzZHs8_KnHWNu7l9B31J4oQ4M_DzIc41jMwcnXnijDWGbrZuMh4dC4yP3q6UlwGABUGBZTJhpDiJAp96OFcazyreUUYr1FUKkUg-pMUl2wK_ifxfR-pps904me8p18moXw9BLDNovVV4pfGnWc8fIWvO7DP7qT26isyLpq92NodBLMCFmMbO_yABapZqEWPEzfpDqVIdLA0Jy8DI8C6BrXldW6TfgMstkV_Hn1Gq2_HrdnjWTpX8Da81UhrKVb4nx0o1JiUaVy1Xfc2jvYRPOv8v1uYyxV_FlJrTBZOP-X33sTW934qo0rFHGQKWzR-DRV148pm0eEUMaD0engp8CBmQHzqPA79cxvtqBpgES1_VRCCC1oekVE2dPkP5smf0VKh2eHbZxiiZcmW_NaqNrhKfe6cyrpFCX5K85MGha-ssHvvViK8_BiqL8RzYj_XtJz4WuN8v220NW3HEK682o7WsOM-a25HUdXa-FPpxhTuuMbVBHBw4h9fQITtIsBlSlFnFNwx9CscQhmdxUbZ7lg1DblFzS-XT0LyCjTQlBrdCZeqGjwjvBL1Xa253a_nWoK40QyivE0Fk71kKsi4SKt5eOrL1ODmaVjY16FtX8q-WjsR18UnPdEgtRCVQVjdUVebgC-fnjUI8qtI4Er3-hkVeqfOjxMF9Z8bvmINR_B_Xaue_CMYn-EM8Qu-MhIHsJtGyipQhz7l6rm2d0WZuSMeufgB8BnxnCZ1f6Hokqkunlu0ofZ-e8bzwJhnTFAdL0N5H8DOeC-8V6RN6x3gtuLXTU4rF4PLPRTu09_IdV9XQMlZDyX6erTq_fzGNzP_EjMGIueZ1rnhpkh9lVJvlH8eWhvNlsdYSq62x1Aip2Qyb-MsvPqXo_r10f8ROeZ7R875LKoM4tgQXPZAu1xE90WOU3K9ETTK9ih2wuH3ZFrzSOPnlj8zoPk8QuM1fpe68cfcdurPcobNtAiWLpnMws3WHn1z0hPbpwOyUDkU3XdCtFmLaQ_UfIKWPLZXnDRjLCg6O2SlgbJQtU7hqxE9jRi1Vrqj1cnYP44uE4K0m1qKpwNwJEmt_vT1ArMV2b3ESwjZkL9EIihZPRWkUuZevyK6_IUAMl4OZY9tcY-G7i3c3gN5k6IjvJvOGUN1Gam74kwwqU9BrsCbLMekQ7FcGKzPgQ0KOSromJL6liQgh8LpvRRmiVvILUGxJ87pDHeQWNmF1vZOIA6Ayh17jObXtsXzAxLAD7zTO8Gn1tkCR6wJaJIJcDD4b9GXh7Xr5JV6sBEfGyzpSy3fg-QiL07pxQBqwzvqE3NUiFmxCdqEGB6zu2reS6RXIWi6GtDZfi7feu4Ozu9XlCDLk5lrX_S-ejfUxbjdYBpKoKdUUYvUvo990SOEx3deIlwAE2be1DOEo8s4VXbjDSUxoM-ritWGSAiymvnjyu40v8YYMeb4srs-Li3u-DnwVmdrErv92a-vbLPL3KUgKpQMNakokArhyT1IOZ03pWIFBBeY6cA
  client: 
    cache-dir: /jfs-cache # cache directory
    mount-options: 
      - cache-size=102400
    ee: # juicefs commercial version configuration
      version: 5.1.18
      console-web: http://35.201.150.247:8080
      backend: gcp
      token: 6101213cd5f6a2794df8c451e98c9b5740e852fb
---
apiVersion: policy.karmada.io/v1alpha1
kind: PropagationPolicy
metadata:
  name: juicefs-policy
spec:
  resourceSelectors:
    - apiVersion: storage.karmada.io/v1alpha1
      kind: Juicefs
      name: jfs-asia-test
  placement:
    clusterAffinity:
      clusterNames:
        - kubernetes
        - gmi-tot
        - storage-test1
  conflictResolution: Overwrite